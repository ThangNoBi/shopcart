(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{212:function(e,t,n){},213:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(51),i=n.n(c),s=(n(212),n(213),n(19)),o=n(460),l=n(15),u=n.n(l),j=n(20),d=n(11),b=n(27),p=n(466),h=n(449),m=n(463),x=n(440),O=n(437),f=n(174),g=n.n(f).a.create({baseURL:"https://api.ezfrontend.com/",headers:{"Content-Type":"application/json"}});g.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e.data}),(function(e){var t=e.response,n=t.config,a=t.status,r=t.data;if("/auth/local/register"===n.url&&400===a){var c=r.data||[],i=(c.length>0?c[0]:{}).messages||[],s=i.length>0?i[0]:{};throw new Error(s.message)}return Promise.reject(e)}));var v=g,y={getAll:function(e){return Object(j.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(b.a)({},e))._start=!e._page||e._page<=1?0:(e._page-1)*(e._limit||50),delete n._page,t.next=5,v.get("/products",{params:n});case 5:return a=t.sent,t.next=8,v.get("/products/count",{params:n});case 8:return r=t.sent,t.abrupt("return",{data:a,pagination:{page:e._page,limit:e._limit,total:r}});case 10:case"end":return t.stop()}}),t)})))()},get:function(e){var t="/products/".concat(e);return v.get(t)},add:function(e){return v.post("/products",e)},update:function(e){var t="/products/".concat(e.id);return v.patch(t,e)},remove:function(e){var t="/products/".concat(e);return v.delete(t)}},S=n(450),w=n(1);function C(e){var t=e.length;return Object(w.jsx)(o.a,{children:Object(w.jsx)(h.a,{container:!0,children:Array.from(new Array(t)).map((function(e,t){return Object(w.jsx)(h.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(w.jsxs)(o.a,{padding:1,children:[Object(w.jsx)(S.a,{variant:"rectangular",width:"100%",height:200}),Object(w.jsx)(S.a,{}),Object(w.jsx)(S.a,{width:"60%"})]})},t)}))})})}C.defaultProps={length:6};var P=C,N=n(455),k="https://api.ezfrontend.com",T="https://picsum.photos/444/444",I="user",_="Access Token";function A(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}var F=function(e){var t,n=e.product,a=Object(s.g)(),r=n.thumbnail?"".concat(k).concat(null===(t=n.thumbnail)||void 0===t?void 0:t.url):T;return Object(w.jsxs)(o.a,{padding:1,children:[Object(w.jsx)(o.a,{padding:1,onClick:function(){a.push("/products/".concat(n.id))},children:Object(w.jsx)("img",{src:r,alt:n.name,width:"100%",style:{cursor:"pointer"}})}),Object(w.jsx)(N.a,{variant:"body3",children:n.name}),Object(w.jsxs)(N.a,{variant:"body2",mt:1,children:[Object(w.jsx)(o.a,{component:"span",fontSize:"16px",fontWeight:"bold",children:A(n.salePrice)}),n.promotionPercent>0?" - ".concat(n.promotionPercent,"%"):""]})]})};var R=function(e){var t=e.data,n=void 0===t?[]:t;return Object(w.jsx)(o.a,{children:Object(w.jsx)(h.a,{container:!0,children:n.map((function(e){return Object(w.jsx)(h.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(w.jsx)(F,{product:e})},e.id)}))})})},q=n(439),D=n(461);var L=function(e){var t=e.currentSort,n=e.onChange;return Object(w.jsxs)(q.a,{value:t,onChange:function(e,t){n&&n(t)},textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",children:[Object(w.jsx)(D.a,{label:"Gi\xe1 T\u0103ng D\u1ea7n",value:"salePrice:ASC"}),Object(w.jsx)(D.a,{label:"Gi\xe1 Gi\u1ea3m D\u1ea7n",value:"salePrice:DESC"})]})},B=n(445),M={getAll:function(e){return v.get("/categories",{params:e})},get:function(e){var t="/categories/".concat(e);return v.get(t)},add:function(e){return v.post("/categories",e)},update:function(e){var t="/categories/".concat(e.id);return v.patch(t,e)},remove:function(e){var t="/categories/".concat(e);return v.delete(t)}},z=n(431);var E=function(e){return Object(w.jsxs)(z.a,{spacing:1,children:[Object(w.jsx)(S.a,{variant:"text"}),Object(w.jsx)(S.a,{}),Object(w.jsx)(S.a,{})]})},V=Object(B.a)({spacing:8,palette:{secondary:{main:"#dd33fa"}}}),W=Object(O.a)((function(){return{root:{padding:V.spacing(2)},menu:{padding:0,margin:0,listStyleType:"none","& > li":{marginTop:V.spacing(1),transition:"all .25s","&:hover":{color:V.palette.secondary.main,cursor:"pointer"}}}}}));var G=function(e){var t=e.onChange,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],i=r[1],s=W(),l=Object(a.useState)(!0),b=Object(d.a)(l,2),p=b[0],h=b[1];return Object(a.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getAll();case 3:t=e.sent,i(t.map((function(e){return{id:e.id,name:e.name}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch Category List",e.t0);case 10:h(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(w.jsxs)(o.a,{className:s.root,children:[Object(w.jsx)(N.a,{variant:"subtitle2",children:"Danh M\u1ee5c S\u1ea3n Ph\u1ea9m"}),p?Object(w.jsx)(E,{}):Object(w.jsx)("ul",{className:s.menu,children:c.map((function(e){return Object(w.jsx)("li",{onClick:function(){return n=e,void(t&&t(n.id));var n},children:Object(w.jsx)(N.a,{variant:"body3",children:e.name})},e.id)}))})]})},H=n(3),J=n(438),Q=n(456),U=Object(B.a)({spacing:8}),X=Object(O.a)((function(){return{root:{padding:U.spacing(2),borderTop:"1px solid gray"},range:{display:"flex",flexFlow:"row no-wrap",alignItems:"center",marginTop:U.spacing(1),marginBottom:U.spacing(2),"& > span":{marginLeft:U.spacing(1),marginRight:U.spacing(1)}}}}));var K=function(e){var t=e.onChange,n=X(),r=Object(a.useState)({salePrice_gte:0,salePrice_lte:0}),c=Object(d.a)(r,2),i=c[0],s=c[1],l=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(H.a)({},n,a))}))};return Object(w.jsxs)(o.a,{className:n.root,children:[Object(w.jsx)(N.a,{variant:"subtitle2",children:"CH\u1eccN M\u1ee8C GI\xc1"}),Object(w.jsxs)(o.a,{className:n.range,children:[Object(w.jsx)(J.a,{name:"salePrice_gte",value:i.salePrice_gte,onChange:l,id:"standard-basic",variant:"standard"}),Object(w.jsx)("span",{children:"-"}),Object(w.jsx)(J.a,{name:"salePrice_lte",value:i.salePrice_lte,onChange:l,id:"standard-basic",variant:"standard"})]}),Object(w.jsx)(Q.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){t&&t(i),s({salePrice_gte:0,salePrice_lte:0})},children:"\xc1p d\u1ee5ng"})]})},Y=n(465),Z=n(442),$=Object(B.a)({spacing:8}),ee=Object(O.a)((function(){return{root:{padding:$.spacing(2),borderTop:"1px solid gray"},list:{margin:0,padding:0,listStyleType:"none","& > li":{}}}}));var te=function(e){var t=e.filters,n=void 0===t?{}:t,a=e.onChange,r=ee(),c=function(e){if(a){var t=e.target,n=t.name,r=t.checked;a(Object(H.a)({},n,r))}};return Object(w.jsxs)(o.a,{className:r.root,children:[Object(w.jsx)(N.a,{variant:"subtitle2",children:"CH\u1eccN D\u1ecaCH V\u1ee4"}),Object(w.jsx)("ul",{className:r.list,children:[{value:"isPromotion",label:"C\xf3 khuy\u1ec5n m\xe3i"},{value:"isFreeShip",label:"V\u1eadn chuy\u1ec3n mi\u1ec5n ph\xed"}].map((function(e){return Object(w.jsx)("li",{children:Object(w.jsx)(Y.a,{control:Object(w.jsx)(Z.a,{checked:Boolean(n[e.value]),onChange:c,name:e.value,color:"secondary"}),label:e.label})},e.value)}))})]})};var ne=function(e){var t=e.filters,n=e.onChange,a=function(e){n&&n(e)};return Object(w.jsxs)(o.a,{children:[Object(w.jsx)(G,{onChange:function(e){n&&n({"category.id":e})}}),Object(w.jsx)(K,{onChange:a}),Object(w.jsx)(te,{filters:t,onChange:a})]})},ae=n(192),re=n(453),ce=Object(ae.a)({spacing:8}),ie=Object(O.a)((function(){return{root:{display:"flex",flexFlow:"row wrap",alignItems:"center",margin:ce.spacing(2,0),padding:0,listStyleType:"none","& > li":{margin:0,padding:ce.spacing(1)}}}})),se=[{id:1,getLabel:function(){return"Giao h\xe0ng mi\u1ec5n ph\xed"},isActive:function(e){return e.isFreeShip},isVisible:function(){return!0},isRemovable:!1,onRemove:function(){},onToggle:function(e){var t=Object(b.a)({},e);return t.isFreeShip?delete t.isFreeShip:t.isFreeShip=!0,t}},{id:2,getLabel:function(){return"C\xf3 khuy\u1ebfn m\xe3i"},isActive:function(){return!0},isVisible:function(e){return e.isPromotion},isRemovable:!0,onRemove:function(e){var t=Object(b.a)({},e);return delete t.isPromotion,t},onToggle:function(){}},{id:3,getLabel:function(e){return"T\u1eeb ".concat(e.salePrice_gte," \u0111\u1ebfn ").concat(e.salePrice_lte)},isActive:function(){return!0},isVisible:function(e){return Object.keys(e).includes("salePrice_lte")&&Object.keys(e).includes("salePrice_gte")},isRemovable:!0,onRemove:function(e){var t=Object(b.a)({},e);return delete t.salePrice_lte,delete t.salePrice_gte,t},onToggle:function(){}}];var oe=function(e){var t=e.filters,n=void 0===t?{}:t,r=e.onChange,c=void 0===r?null:r,i=ie(),s=Object(a.useMemo)((function(){return se.filter((function(e){return e.isVisible(n)}))}),[n]);return Object(w.jsx)(o.a,{component:"ul",className:i.root,children:s.map((function(e){return Object(w.jsx)("li",{children:Object(w.jsx)(re.a,{label:e.getLabel(n),color:e.isActive(n)?"secondary":"default",size:"small",clickable:!e.isRemovable,onClick:e.isRemovable?null:function(){if(c){var t=e.onToggle(n);c(t)}},onDelete:e.isRemovable?function(){if(c){var t=e.onRemove(n);c(t)}}:null})},e.id)}))})},le=n(85),ue=n.n(le),je=Object(O.a)((function(e){return{root:{},left:{textAlign:"left"},right:{flex:"1 1 0"},pagination:{display:"flex",justifyContent:"center",marginTop:"15px",paddingBottom:"15px"}}}));var de=function(e){var t=je(),n=Object(s.g)(),r=Object(s.h)(),c=Object(a.useMemo)((function(){var e=ue.a.parse(r.search);return Object(b.a)(Object(b.a)({},e),{},{_page:Number.parseInt(e._page)||1,_limit:Number.parseInt(e.limit)||8,_sort:e._sort||"salePrice:ASC",isPromotion:"true"===e.isPromotion,isFreeShip:"true"===e.isFreeShip})}),[r.search]),i=Object(a.useState)([]),l=Object(d.a)(i,2),O=l[0],f=l[1],g=Object(a.useState)(!0),v=Object(d.a)(g,2),S=v[0],C=v[1],N=Object(a.useState)({total:10,limit:8,page:1}),k=Object(d.a)(N,2),T=k[0],I=k[1];return Object(a.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getAll(c);case 3:t=e.sent,n=t.data,a=t.pagination,f(n),I(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to fetch ProductList",e.t0);case 13:C(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[c]),Object(w.jsx)(o.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsxs)(h.a,{container:!0,spacing:1,children:[Object(w.jsx)(h.a,{item:!0,className:t.left,xs:5,sm:5,md:4,lg:3,children:Object(w.jsx)(m.a,{children:Object(w.jsx)(ne,{filters:c,onChange:function(e){var t=Object(b.a)(Object(b.a)({},c),e);n.push({pathname:n.location.pathname,search:ue.a.stringify(t)})}})})}),Object(w.jsx)(h.a,{item:!0,className:t.right,xs:7,sm:7,md:8,lg:9,children:Object(w.jsxs)(m.a,{children:[Object(w.jsx)(L,{currentSort:c._sort,onChange:function(e){var t=Object(b.a)(Object(b.a)({},c),{},{_sort:e});n.push({pathname:n.location.pathname,search:ue.a.stringify(t)})}}),Object(w.jsx)(oe,{filters:c,onChange:function(e){n.push({pathname:n.location.pathname,search:ue.a.stringify(e)})}}),S?Object(w.jsx)(P,{length:8}):Object(w.jsx)(R,{data:O}),Object(w.jsx)(o.a,{className:t.pagination,children:Object(w.jsx)(x.a,{variant:"outlined",color:"secondary",page:T.page,count:Math.ceil(T.total/T.limit),onChange:function(e,t){var a=Object(b.a)(Object(b.a)({},c),{},{_page:t});n.push({pathname:n.location.pathname,search:ue.a.stringify(a)})}})})]})})]})})})},be=n(469),pe=n(30),he=n(52),me=Object(he.c)({name:"cart",initialState:{showMiniCart:!1,cartItems:[]},reducers:{showMiniCart:function(e){e.showMiniCart=!0},hideMiniCart:function(e){e.showMiniCart=!1},addToCart:function(e,t){var n=t.payload,a=e.cartItems.findIndex((function(e){return e.id===n.id}));a>=0?e.cartItems[a].quantity+=n.quantity:e.cartItems.push(n)},setQuantity:function(e,t){var n=t.payload,a=n.id,r=n.quantity,c=e.cartItems.findIndex((function(e){return e.id===a}));c>=0&&(e.cartItems[c].quantity=r)},removeFromCart:function(e,t){var n=t.payload.id,a=e.cartItems.findIndex((function(e){return e.id===n}));a>=0&&e.cartItems.splice(a,1)}}}),xe=me.actions,Oe=me.reducer,fe=(xe.showMiniCart,xe.hideMiniCart,xe.addToCart),ge=(xe.setQuantity,xe.removeFromCart),ve=Oe,ye=n(82),Se=n(32),we=n(45),Ce=n(182),Pe=n.n(Ce),Ne=n(181),ke=n.n(Ne),Te=n(462),Ie=n(467),_e=n(451),Ae=n(464),Fe=Object(O.a)((function(e){return{root:{},box:{display:"flex",flexFlow:"row nowrap",alignItems:"center",maxWidth:"200px"}}}));var Re=function(e){var t,n=Fe(),a=e.form,r=e.name,c=e.label,i=e.disabled,s=a.formState.errors,l=a.setValue,u=!!s[r];return Object(w.jsxs)(Te.a,{sx:{m:1,width:"25ch"},variant:"filled",fullWidth:!0,size:"small",children:[Object(w.jsx)(N.a,{children:c}),Object(w.jsx)(Se.a,{name:r,control:a.control,render:function(e){var t=e.field,a=t.onChange,r=t.onBlur,s=t.value,j=t.name;e.fieldState.error,e.formState;return Object(w.jsxs)(o.a,{className:n.box,children:[Object(w.jsx)(Ie.a,{onClick:function(){return l(j,Number.parseInt(s)?Number.parseInt(s)-1:0)},children:Object(w.jsx)(ke.a,{})}),Object(w.jsx)(_e.a,{type:"number",name:j,value:s,label:c,onChange:a,onBlur:r,disabled:i,variant:"outlined",error:u}),Object(w.jsx)(Ie.a,{onClick:function(){return l(j,Number.parseInt(s)?Number.parseInt(s)+1:1)},children:Object(w.jsx)(Pe.a,{})})]})}}),Object(w.jsx)(Ae.a,{children:null===(t=s[r])||void 0===t?void 0:t.message})]})};var qe=function(e){var t=e.onSubmit,n=void 0===t?null:t,a=we.b().shape({quantity:we.a().required("Please enter quantity").min(1,"Minimum value is 1").max(99,"Maximum value is 99").typeError("Please enter a number")}),r=Object(Se.e)({defaultValues:{quantity:1},resolver:Object(ye.a)(a)}),c=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("form",{onSubmit:r.handleSubmit(c),style:{marginTop:10},children:[Object(w.jsx)(Re,{name:"quantity",label:"S\u1ed1 l\u01b0\u1ee3ng",form:r}),Object(w.jsx)(Q.a,{type:"submit",variant:"contained",color:"success",sx:{display:"block"},style:{marginTop:15,marginLeft:45},children:"Th\xeam v\xe0o gi\u1ecf"})]})};var De=function(e){return Object(w.jsx)("div",{children:"Additional"})},Le=n(183),Be=n.n(Le);var Me=function(e){var t=e.product,n=Be.a.sanitize(t.description);return Object(w.jsxs)(m.a,{elevation:3,style:{padding:15},children:[Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}),";"]})};var ze=function(e){return Object(w.jsx)("div",{children:"Reviews"})};var Ee=function(e){var t,n=e.product,a=n.thumbnail?"".concat(k).concat(null===(t=n.thumbnail)||void 0===t?void 0:t.url):T;return Object(w.jsx)(o.a,{sx:{p:2},children:Object(w.jsx)("img",{src:a,alt:n.name,width:"100%",style:{borderRadius:"15px"}})})},Ve=Object(B.a)({spacing:8}),We=Object(O.a)((function(){return{root:{paddingBottom:Ve.spacing(1),borderBottom:"1px solid #e0e0e0"},description:{margin:Ve.spacing(2,0)},priceBox:{padding:Ve.spacing(1),backgroundColor:"#eeeeee"},salePr:{fontSize:"32px",fontWeight:"bold",marginRight:Ve.spacing(3)},oriPr:{marginRight:Ve.spacing(2),textDecoration:"line-through"}}}));var Ge=function(e){var t=e.product,n=We();return Object(w.jsxs)(o.a,{className:n.root,children:[Object(w.jsx)(N.a,{variant:"h4",children:t.name}),Object(w.jsxs)(N.a,{variant:"subtitle2",className:n.description,children:["M\xf4 t\u1ea3 : ",t.shortDescription]}),Object(w.jsxs)(o.a,{className:n.priceBox,children:[Object(w.jsxs)(o.a,{component:"span",className:n.salePr,children:["Gi\xe1 : ",A(t.salePrice)]}),t.promotionPercent>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(o.a,{component:"span",className:n.oriPr,children:A(t.originalPrice)}),Object(w.jsx)(o.a,{component:"span",children:Object(w.jsx)(N.a,{variant:"body2",children:"-".concat(t.promotionPercent,"%")})})]})]})]})},He=n(468),Je=n(53),Qe=Object(B.a)({spacing:8}),Ue=Object(O.a)((function(){return{root:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center",padding:0,listStyleType:"none","& > li":{padding:Qe.spacing(2,4)},"& > li > a":{color:"#9c27b0",textDecoration:"none"},"& > li > a.active":{color:"#ff8a65",textDecoration:"underline"}}}}));var Xe=function(e){var t=Ue(),n=Object(s.i)().url;return Object(w.jsxs)(o.a,{component:"ul",className:t.root,children:[Object(w.jsx)("li",{children:Object(w.jsx)(He.a,{component:Je.c,to:n,exact:!0,children:"Description"})}),Object(w.jsx)("li",{children:Object(w.jsx)(He.a,{component:Je.c,to:"".concat(n,"/additional"),exact:!0,children:"Additional infomation"})}),Object(w.jsx)("li",{children:Object(w.jsx)(He.a,{component:Je.c,to:"".concat(n,"/reviews"),exact:!0,children:"Reviews"})})]})};var Ke=Object(ae.a)({spacing:8}),Ye=Object(O.a)((function(){return{root:{},left:{textAlign:"left",padding:Ke.spacing(1.5),borderRight:"1px solid #e0e0e0"},right:{flex:"1 1 0",padding:Ke.spacing(1.5),textAlign:"left"},loading:{position:"fixed",top:0,left:0,width:"100%"}}}));var Ze=function(){var e=Ye(),t=Object(pe.b)(),n=Object(s.i)(),r=n.params.productId,c=n.url,i=function(e){var t=Object(a.useState)({}),n=Object(d.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!0),s=Object(d.a)(i,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.get(e);case 3:n=t.sent,c(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Failed to fetch Product Detail",t.t0);case 10:l(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[e]),{product:r,loading:o}}(r),l=i.product;return i.loading?Object(w.jsx)(o.a,{className:e.loading,children:Object(w.jsx)(be.a,{})}):Object(w.jsx)(o.a,{className:e.root,children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(m.a,{elevation:0,children:Object(w.jsxs)(h.a,{container:!0,children:[Object(w.jsx)(h.a,{item:!0,className:e.left,sm:6,md:4,lg:4,children:Object(w.jsx)(Ee,{product:l})}),Object(w.jsxs)(h.a,{item:!0,className:e.right,sm:6,md:8,lg:8,children:[Object(w.jsx)(Ge,{product:l}),Object(w.jsx)(qe,{onSubmit:function(e){var n=fe({id:l.id,product:l,quantity:e.quantity});t(n)}})]})]})}),Object(w.jsx)(Xe,{}),Object(w.jsxs)(s.d,{children:[Object(w.jsx)(s.b,{exact:!0,path:c,children:Object(w.jsx)(Me,{product:l})}),Object(w.jsx)(s.b,{path:"".concat(c,"/additional"),component:De}),Object(w.jsx)(s.b,{path:"".concat(c,"/reviews"),component:ze})]})]})})};var $e=function(e){var t=Object(s.i)();return Object(w.jsx)("div",{children:Object(w.jsx)(o.a,{pt:4,children:Object(w.jsxs)(s.d,{children:[Object(w.jsx)(s.b,{path:t.url,exact:!0,component:de}),Object(w.jsx)(s.b,{path:"".concat(t.url,"/:productId"),component:Ze})]})})})},et=n(187),tt=n.n(et),nt=n(186),at=n.n(nt),rt=n(189),ct=n.n(rt),it=n(188),st=n.n(it),ot=n(447),lt=n(193),ut=n(444),jt=n(457),dt=n(448),bt=n(459),pt=n(458),ht=n(80),mt={register:function(e){return v.post("/auth/local/register",e)},login:function(e){return v.post("/auth/local",e)}},xt=Object(he.b)("user/register",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.register(t);case 2:return n=e.sent,localStorage.setItem(_,n.jwt),localStorage.setItem(I,JSON.stringify(n.user)),e.abrupt("return",n.user);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ot=Object(he.b)("user/login",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.login(t);case 2:return n=e.sent,localStorage.setItem(_,n.jwt),localStorage.setItem(I,JSON.stringify(n.user)),e.abrupt("return",n.user);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ft=Object(he.c)({name:"user",initialState:{current:JSON.parse(localStorage.getItem(I))||{},settings:{}},reducers:{logOut:function(e){localStorage.removeItem(_),localStorage.removeItem(I),e.current={}}},extraReducers:function(e){e.addCase(xt.fulfilled,(function(e,t){e.current=t.payload})),e.addCase(Ot.fulfilled,(function(e,t){e.current=t.payload}))}}),gt=ft.actions,vt=ft.reducer,yt=gt.logOut,St=vt,wt=n(114),Ct=n.n(wt),Pt=n(454);var Nt=function(e){var t=e.form,n=e.name,a=e.label,r=e.disabled,c=t.formState.errors,i=!!c[n];return Object(w.jsx)(Se.a,{name:n,control:t.control,render:function(e){var t,n=e.field,s=n.onChange,o=n.onBlur,l=n.value,u=n.name;e.fieldState.error,e.formState;return Object(w.jsx)(J.a,{fullWidth:!0,label:a,name:u,value:l,onChange:s,onBlur:o,disabled:r,margin:"none",sx:{marginTop:2},variant:"outlined",error:i,helperText:null===(t=c[u])||void 0===t?void 0:t.message})}})},kt=n(185),Tt=n.n(kt),It=n(184),_t=n.n(It),At=n(446),Ft=n(470);var Rt=function(e){var t,n=e.form,r=e.name,c=e.label,i=e.disabled,s=n.formState.errors,o=!!s[r],l=Object(a.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1],p=function(){b((function(e){return!e}))};return Object(w.jsxs)(Te.a,{error:o,variant:"outlined",sx:{marginTop:2},fullWidth:!0,children:[Object(w.jsx)(At.a,{htmlFor:r,children:c}),Object(w.jsx)(Se.a,{name:r,control:n.control,render:function(e){var t=e.field,n=t.onChange,a=t.onBlur,r=t.value,s=t.name;e.fieldState.error,e.formState;return Object(w.jsx)(_e.a,{type:j?"text":"password",id:s,name:s,label:c,value:r,onChange:n,onBlur:a,disabled:i,error:o,fullWidth:!0,variant:"outlined",endAdornment:Object(w.jsx)(Ft.a,{position:"end",children:Object(w.jsx)(Ie.a,{"aria-label":"toggle password visibility",onClick:p,edge:"end",children:j?Object(w.jsx)(_t.a,{}):Object(w.jsx)(Tt.a,{})})})})}}),Object(w.jsx)(Ae.a,{children:null===(t=s[r])||void 0===t?void 0:t.message})]})},qt=Object(ae.a)({spacing:8}),Dt=Object(O.a)((function(){return{root:{position:"relative",padding:0},avatar:{margin:"10px auto"},title:{margin:qt.spacing(2,0),textAlign:"center"},progress:{position:"absolute",top:0,left:0,right:0,bottom:qt.spacing(1)}}}));var Lt=function(e){var t=Dt(),n=we.b().shape({identifier:we.d().required("Please enter your email").email("Please enter a valid email address"),password:we.d().required("Please enter your password")}),a=Object(Se.e)({defaultValues:{identifier:"",password:""},resolver:Object(ye.a)(n)}),r=a.formState.isSubmitting,c=function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=5;break}return t.next=4,a(n);case 4:console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:t.root,children:[r&&Object(w.jsx)(be.a,{color:"secondary",className:t.progress}),Object(w.jsx)(Pt.a,{sx:{bgcolor:"secondary.main"},className:t.avatar,children:Object(w.jsx)(Ct.a,{})}),Object(w.jsx)(N.a,{variant:"h5",component:"h3",className:t.title,children:"Login an account"}),Object(w.jsxs)("form",{onSubmit:a.handleSubmit(c),children:[Object(w.jsx)(Nt,{name:"identifier",label:"Email",form:a}),Object(w.jsx)(Rt,{name:"password",label:"Password",form:a}),Object(w.jsx)(Q.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,sx:{mt:2},children:"Sign In"})]})]})};var Bt=function(e){var t=Object(pe.b)(),n=Object(ht.b)().enqueueSnackbar,a=function(){var a=Object(j.a)(u.a.mark((function a(r){var c,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=Ot(r),a.next=4,t(c);case 4:i=a.sent,Object(he.d)(i),(s=e.closeDialog)&&s(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log("Failed to login",a.t0),n(a.t0.message,{variant:"error"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}();return Object(w.jsx)("div",{children:Object(w.jsx)(Lt,{onSubmit:a})})},Mt=Object(ae.a)({spacing:8}),zt=Object(O.a)((function(){return{root:{position:"relative",padding:0},avatar:{margin:"10px auto"},title:{margin:Mt.spacing(2,0),textAlign:"center"},progress:{position:"absolute",top:0,left:0,right:0,bottom:Mt.spacing(1)}}}));var Et=function(e){var t=zt(),n=we.b().shape({fullName:we.d().required("Please enter your full name").test("Should has at least two words","Please enter at least two words",(function(e){return e.split(" ").length>=2})),email:we.d().required("Please enter your email").email("Please enter a valid email address"),password:we.d().required("Please enter your password").min(6,"Please enter at least 6 characters"),retypePass:we.d().required("Please retype your password").oneOf([we.c("password")],"Password does not match")}),a=Object(Se.e)({defaultValues:{fullName:"",email:"",password:"",retypePass:""},resolver:Object(ye.a)(n)}),r=a.formState.isSubmitting,c=function(){var t=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=5;break}return t.next=4,a(n);case 4:console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:t.root,children:[r&&Object(w.jsx)(be.a,{color:"secondary",className:t.progress}),Object(w.jsx)(Pt.a,{sx:{bgcolor:"secondary.main"},className:t.avatar,children:Object(w.jsx)(Ct.a,{})}),Object(w.jsx)(N.a,{variant:"h5",component:"h3",className:t.title,children:"Create an account"}),Object(w.jsxs)("form",{onSubmit:a.handleSubmit(c),children:[Object(w.jsx)(Nt,{name:"fullName",label:"Full Name",form:a}),Object(w.jsx)(Nt,{name:"email",label:"Email",form:a}),Object(w.jsx)(Rt,{name:"password",label:"Password",form:a}),Object(w.jsx)(Rt,{name:"retypePass",label:"Retype PassWord",form:a}),Object(w.jsx)(Q.a,{type:"submit",variant:"contained",color:"secondary",sx:{marginTop:2},fullWidth:!0,children:"Sign Up"})]})]})};var Vt=function(e){var t=Object(pe.b)(),n=Object(ht.b)().enqueueSnackbar,a=function(){var a=Object(j.a)(u.a.mark((function a(r){var c,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.username=r.email,c=xt(r),a.next=5,t(c);case 5:i=a.sent,Object(he.d)(i),(s=e.closeDialog)&&s(),n("Register Successfully",{variant:"success"}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n(a.t0.message,{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}();return Object(w.jsx)("div",{children:Object(w.jsx)(Et,{onSubmit:a})})},Wt=n(72),Gt=function(e){return e.cart.cartItems},Ht=Object(Wt.a)(Gt,(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),Jt=Object(Wt.a)(Gt,(function(e){return e.reduce((function(e,t){return e+t.product.salePrice*t.quantity}),0)})),Qt=Object(ae.a)({spacing:8}),Ut=Object(O.a)((function(){return{root:{position:"relative",display:"flex",justifyContent:"space-around"},title:{display:"flex",justifyContent:"space-between"},nameShop:{marginLeft:"16px",textDecoration:"none",color:"#ffeb3b"},closeBtn:{top:0,right:Qt.spacing(1),padding:Qt.spacing(1)},search:{border:"1px solid #fff",padding:Qt.spacing(1)}}})),Xt="login",Kt="register";function Yt(){var e=Ut(),t=Object(s.g)(),n=Object(pe.b)(),r=Object(pe.c)((function(e){return e.user.current})).id,c=Object(a.useState)(null),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(pe.c)(Ht),b=Object(pe.c)((function(e){return e.user.current})),p=Object(a.useState)(!1),h=Object(d.a)(p,2),m=h[0],x=h[1],O=Object(a.useState)(Xt),f=Object(d.a)(O,2),g=f[0],v=f[1],y=function(e,t){"escapeKeyDown"!==t&&"backdropClick"!==t&&x(!1)},S=function(){u(null)};return Object(w.jsxs)("div",{children:[Object(w.jsx)(jt.a,{position:"static",children:Object(w.jsxs)(pt.a,{className:e.root,children:[Object(w.jsxs)(o.a,{className:e.title,children:[Object(w.jsx)(at.a,{}),Object(w.jsx)(N.a,{variant:"h6",children:Object(w.jsx)(Je.b,{to:"/products",className:e.nameShop,children:"Ecommerce Shop"})})]}),Object(w.jsxs)(o.a,{children:[r?Object(w.jsxs)(Ie.a,{color:"inherit",onClick:function(e){u(e.currentTarget)},children:[Object(w.jsxs)(N.a,{children:["Xin ch\xe0o ",b.fullName]}),Object(w.jsx)(tt.a,{})]}):Object(w.jsx)(Q.a,{color:"inherit",onClick:function(){x(!0)},children:"Login"}),Object(w.jsx)(Ie.a,{size:"large","aria-label":"show 4 new mails",color:"inherit",onClick:function(){t.push("/cart")},children:Object(w.jsx)(ot.a,{badgeContent:j,color:"error",children:Object(w.jsx)(st.a,{})})})]})]})}),Object(w.jsxs)(lt.a,{anchorEl:l,open:Boolean(l),onClose:S,MenuListProps:{"aria-labelledby":"basic-button"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(w.jsx)(ut.a,{onClick:S,children:"My account"}),Object(w.jsx)(ut.a,{onClick:function(){var e=yt();n(e)},children:"Logout"})]}),Object(w.jsxs)(dt.a,{open:m,onClose:y,children:[Object(w.jsx)(Ie.a,{className:e.closeBtn,style:{position:"absolute"},onClick:y,size:"large",children:Object(w.jsx)(ct.a,{})}),Object(w.jsxs)(bt.a,{children:[g===Kt&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Vt,{closeDialog:y}),Object(w.jsx)(o.a,{textAlign:"center",sx:{m:1},children:Object(w.jsx)(Q.a,{color:"primary",onClick:function(){return v(Xt)},children:"Already have an account. Login here"})})]}),g===Xt&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Bt,{closeDialog:y}),Object(w.jsx)(o.a,{textAlign:"center",sx:{m:1},children:Object(w.jsx)(Q.a,{color:"primary",onClick:function(){return v(Kt)},children:"Don't have an account. Register here"})})]})]})]})]})}var Zt=n(190),$t=n.n(Zt),en=Object(O.a)({root:{},left:{width:"800px",textAlign:"left"},right:{flex:"1 1 0",height:"50px"},list:{listStyleType:"none",textAlign:"left",paddingLeft:0,"& > li":{margin:"5px"}},imgCart:{width:"200px",height:"200px",margin:"15px",borderRadius:"15px"}});var tn=function(e){var t,n=e.detail,a=en(),r=Object(pe.b)(),c=n.product.thumbnail?"".concat(k).concat(null===(t=n.product.thumbnail)||void 0===t?void 0:t.url):T;return Object(w.jsxs)(h.a,{container:!0,spacing:2,children:[Object(w.jsx)(h.a,{item:!0,xs:6,md:4,children:Object(w.jsx)("img",{src:c,alt:"",className:a.imgCart})}),Object(w.jsx)(h.a,{item:!0,xs:4,md:6,children:Object(w.jsxs)("ul",{className:a.list,children:[Object(w.jsx)("li",{children:Object(w.jsxs)(N.a,{children:["T\xean SP : ",n.product.name]})}),Object(w.jsxs)("li",{children:["Gi\xe1 : ",A(n.product.salePrice)]}),Object(w.jsxs)("li",{children:["S\u1ed1 l\u01b0\u1ee3ng : ",n.quantity]})]})}),Object(w.jsxs)(h.a,{item:!0,xs:2,md:2,children:[Object(w.jsx)($t.a,{onClick:function(){return function(e){var t=ge({id:e});r(t)}(n.id)},sx:{cursor:"pointer",marginTop:2}}),Object(w.jsx)(N.a,{children:"X\xf3a"})]})]})},nn=Object(O.a)({root:{},left:{width:"800px",textAlign:"left"},right:{flex:"1 1 0"},list:{listStyleType:"none",textAlign:"left",paddingLeft:0,"& > li":{margin:"5px"}},imgCart:{width:"200px",height:"200px",margin:"15px",borderRadius:"15px"}});var an=function(e){var t=e.detail,n=nn(),a=Object(pe.c)(Jt);return console.log(t),Object(w.jsx)(o.a,{className:n.root,children:Object(w.jsx)(p.a,{children:Object(w.jsxs)(h.a,{container:!0,spacing:1,children:[Object(w.jsx)(h.a,{item:!0,className:n.left,children:Object(w.jsx)(m.a,{elevation:3,sx:{marginTop:"20px"},children:t.map((function(e,t){return Object(w.jsx)(tn,{detail:e},t)}))})}),t.length<1?Object(w.jsx)(o.a,{height:"500px",children:Object(w.jsx)(N.a,{variant:"h6",children:"Hi\u1ec7n ch\u01b0a c\xf3 s\u1ea3n ph\u1ea9m"})}):Object(w.jsxs)(h.a,{item:!0,className:n.right,children:[Object(w.jsx)(m.a,{elevation:0,sx:{height:"50px",marginTop:"5px",pt:2},children:Object(w.jsxs)(N.a,{variant:"h6",children:["T\u1ed5ng Ti\u1ec1n : ",A(a)]})}),Object(w.jsx)(Q.a,{variant:"contained",sx:{mt:2},children:"\u0110\u1eb7t h\xe0ng"})]})]})})})};var rn=function(e){var t=Object(pe.c)((function(e){return e.cart.cartItems}));return Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Danh s\xe1ch gi\u1ecf h\xe0ng"}),Object(w.jsx)(an,{detail:t})]})};var cn=function(e){return Object(w.jsx)(jt.a,{position:"static",sx:{mt:2},children:Object(w.jsx)(o.a,{children:Object(w.jsx)(p.a,{children:Object(w.jsxs)(h.a,{container:!0,sx:{pt:2},children:[Object(w.jsxs)(h.a,{item:!0,xs:4,children:[Object(w.jsx)(N.a,{variant:"h5",children:"Footer Content"}),Object(w.jsx)(N.a,{variant:"subtitle1",children:"Here you can use rows and columns here to organize your footer content."})]}),Object(w.jsxs)(h.a,{item:!0,xs:4,children:[Object(w.jsx)(N.a,{variant:"h6",children:"Product"}),Object(w.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:0},children:[Object(w.jsx)("li",{children:"By Category"}),Object(w.jsx)("li",{children:"By Price"}),Object(w.jsx)("li",{children:"By Delivery"}),Object(w.jsx)("li",{children:"Free Ship"})]})]}),Object(w.jsxs)(h.a,{item:!0,xs:4,children:[Object(w.jsx)(N.a,{variant:"h6",children:"Contact"}),Object(w.jsxs)("ul",{style:{listStyleType:"none",paddingLeft:0},children:[Object(w.jsx)("li",{children:"Email : abcd@gmail.com"}),Object(w.jsx)("li",{children:"Phone Number : (+84) 356783219"}),Object(w.jsx)("li",{children:"123 Nguy\u1ec5n Tr\xe3i, TPHCM"})]})]})]})})})})},sn=(n(191),n(372),n(373),n.p+"static/media/img1.b056a633.jpg");Object(O.a)({root:{},image:{background:"url".concat(sn," no-repeat"),height:"100%"}});var on=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(Yt,{}),Object(w.jsx)(s.a,{from:"/",to:"/products"}),Object(w.jsxs)(s.d,{children:[Object(w.jsx)(s.b,{path:"/products",component:$e}),Object(w.jsx)(s.b,{path:"/cart",component:rn})]}),Object(w.jsx)(cn,{})]})},ln=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,472)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},un={user:St,cart:ve},jn=Object(he.a)({reducer:un});i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(pe.a,{store:jn,children:Object(w.jsx)(Je.a,{children:Object(w.jsx)(ht.a,{anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(w.jsx)(on,{})})})})}),document.getElementById("root")),ln()}},[[374,1,2]]]);
//# sourceMappingURL=main.462a7722.chunk.js.map